[% INCLUDE 'billing/tier.html' %]

<form>
  <div class="payment-errors media media--error u-p u-m" style="display: none">
    <div class="media__img">[% flashIcon(level='error') %]</div>
    <p class="media__body"></p>
  </div>

  <div class="layout layout--center u-mt">
    <div class="layout__item u-2/3 u-1/1-palm">

      <div class="input-container">
        <label for="name">Name on Card</label>
        [% IF request_fields.defined(firstname) && request_fields.defined(lastname) %]
        <input id="name" type="text" size="20" />
        [% ELSE %]
        <input id="name" type="text" size="20" value="[% request_fields.firstname %] [% request_fields.lastname %]"/>
        [% END %]
      </div>

      <div class="input-container">
        <label for="cardNumberID">Card Number</label>
        <input type="tel" id="cardNumberID" placeholder="5424000000000015" />
      </div>

      <div class="input-container">
        <label>Expiration (MM/YYYY)</label>
        <input class="u-1/4" type="number" min="1" max="12" placeholder="MM" id="monthID" />
        /
        <input class="u-1/2" type="number" placeholder="YYYY" id="yearID" />
      </div>

      <div class="input-container">
        <label for="cardCodeID">CVC</label>
        <input type="text" size="4" placeholder="123" id="cardCodeID" />
      </div>

      <div class="u-mt">
        <button type="button" id="submitButton" onclick="sendPaymentDataToAnet()" name="submit-btn" class="btn btn--full">
          <div class="flag">
            <div class="flag__img">[% svgIcon(id='ic_credit_card_black_24px',size='small') %]</div>
            <p class="flag__body">[% i18n("Pay with Authorize.Net") %]</p>
          </div>
        </button>
      </div>
    </div>
  </div>

</form>

<script type="text/javascript" src="[% billing.acceptjs_uri %]" charset="utf-8"></script>

<script id="variables" type="text/json">
{
  "public_client_key": "[% billing.public_client_key %]"
  "api_login_id": "[% billing.api_login_id %]"
  "id": "[% billing.id %]"
}
</script>
<script type="text/javascript" src="/content/billing/authorizenet.js"></script>
