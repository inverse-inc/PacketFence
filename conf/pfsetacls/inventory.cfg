[switches:children]
[% FOREACH key IN switches.keys %]switch_[% key %]
[% END %]

[% FOREACH key IN switches.keys %][switch_[% key %]]
switch_[% key %] ansible_host=[% switches.$key.id %]

[% END %]

[% FOREACH key IN switches.keys %][switch_[% key %]:vars]
[% SWITCH switches.$key.ansible_network_os %]
[% CASE 'cisco.ios.ios' %]ansible_become=yes
ansible_become_method=enable
ansible_become_pass="[% switches.$key.cliEnablePwd %]"
ansible_network_os=[% switches.$key.ansible_network_os %]
ansible_user=[% switches.$key.cliUser %]
ansible_password="[% switches.$key.cliPwd %]"
ansible_connection=ansible.netcommon.network_cli
acl_config=[% key %].cfg
[% CASE 'aireos' %]ansible_network_os=[% switches.$key.ansible_network_os %]
ansible_user=[% switches.$key.cliUser %]
ansible_password="[% switches.$key.cliPwd %]"
ansible_connection=ansible.netcommon.network_cli
acl_config=[% key %].cfg
[% CASE 'cisco.asa' %]ansible_network_os=[% switches.$key.ansible_network_os %]
ansible_user=[% switches.$key.cliUser %]
ansible_password="[% switches.$key.cliPwd %]"
ansible_connection=ansible.netcommon.network_cli
acl_config=[% key %].cfg
[% CASE 'arubanetworks.aoscx.aoscx' %]ansible_network_os=[% switches.$key.ansible_network_os %]
ansible_user=[% switches.$key.cliUser %]
ansible_password="[% switches.$key.cliPwd %]"
ansible_network_os=[% switches.$key.ansible_network_os %]
ansible_connection=ansible.netcommon.network_cli
ansible_aoscx_validate_certs=False
acl_config=[% key %].cfg
[% CASE 'cisco.meraki' %]ansible_network_os=[% switches.$key.ansible_network_os %]
meraki_api_key=[% switches.$key.wsPwd %]
meraki_base_url="https://api.meraki.com/api/v1"
meraki_single_request_timeout=60
meraki_certificate_path=""
meraki_requests_proxy=""
meraki_wait_on_rate_limit=true
meraki_nginx_429_retry_wait_time=60
meraki_action_batch_retry_wait_time=60
meraki_retry_4xx_error=false
meraki_retry_4xx_error_wait_time=60
meraki_maximum_retries=2
meraki_output_log=false
meraki_log_file_prefix="meraki_api_"
meraki_log_path=""
meraki_print_console=true
meraki_suppress_logging=false
meraki_simulate=false
meraki_be_geo_id=""
meraki_use_iterator_for_get_pages=false
meraki_inherit_logging_config=false
[% END %]

[% END %]
