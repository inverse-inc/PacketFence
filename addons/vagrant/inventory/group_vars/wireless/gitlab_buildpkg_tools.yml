---
# force value to simplify tests outside CI
# ppa will be disabled in local dev environment
gitlab_buildpkg_tools__ppa_enabled: '{{ True if lookup("env", "CI")
                                             else False }}'

# use repo generated by 'publish' stage
gitlab_buildpkg_tools__ppa_url: 'http://inverse.ca/downloads/PacketFence/gitlab/{{ pipeline_id }}'
gitlab_buildpkg_tools__ppa_url_deb: '{{ gitlab_buildpkg_tools__ppa_url }}/debian'

# redefine this variables to avoid confusion with official "packetfence" repositories
gitlab_buildpkg_tools__deb_ppa:
  - name: 'packetfence-ppa'
    baseurl: "{{ gitlab_buildpkg_tools__ppa_url_deb }} bookworm main"
    gpgkey: 'http://inverse.ca/downloads/GPG_PUBLIC_KEY'

# added for local dev environment where we only want devel packages
gitlab_buildpkg_tools__deb_deps_repos:
  - name: 'packetfence'
    baseurl: 'http://inverse.ca/downloads/PacketFence/debian/{{ pf_minor_release }} bookworm bookworm'
  - name: 'other-tools'
    baseurl: 'http://inverse.ca/downloads/PacketFence/debian/13.2 bullseye bullseye'

# added for local dev environment where we only want devel packages
gitlab_buildpkg_tools__deb_keys:
  - 'http://inverse.ca/downloads/GPG_PUBLIC_KEY'

gitlab_buildpkg_tools__deb_pkgs:
  - packetfence-test
  - rsync
